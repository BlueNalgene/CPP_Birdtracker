<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CPP_Birdtracker: frame_extraction_temp.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CPP_Birdtracker
   </div>
   <div id="projectbrief">A C++ object tracking program specifically for lunar bird tracking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">frame_extraction_temp.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="frame__extraction_8hpp_source.html">frame_extraction.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for frame_extraction_temp.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="frame__extraction__temp_8cpp__incl.png" border="0" usemap="#frame__extraction__temp_8cpp" alt=""/></div>
<map name="frame__extraction__temp_8cpp" id="frame__extraction__temp_8cpp">
<area shape="rect" id="node2" href="frame__extraction_8hpp.html" title="frame_extraction.hpp" alt="" coords="1009,80,1153,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a89a8322bea357674e81ba9cbdefe0378"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a89a8322bea357674e81ba9cbdefe0378">signal_callback_handler</a> (int signum)</td></tr>
<tr class="separator:a89a8322bea357674e81ba9cbdefe0378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9b7b156d48ad3f147ff2b4edc01509"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a4f9b7b156d48ad3f147ff2b4edc01509">tier_one</a> (int framecnt, Mat in_frame)</td></tr>
<tr class="separator:a4f9b7b156d48ad3f147ff2b4edc01509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19a4b05d920662cf30fbbdfc56264c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#ad19a4b05d920662cf30fbbdfc56264c3">tier_two</a> (int framecnt, Mat in_frame)</td></tr>
<tr class="separator:ad19a4b05d920662cf30fbbdfc56264c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e416aa918214bbc26d5a68f7da0138d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a7e416aa918214bbc26d5a68f7da0138d">tier_three</a> (int framecnt, Mat in_frame, Mat old_frame)</td></tr>
<tr class="separator:a7e416aa918214bbc26d5a68f7da0138d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1835862c7afe0c2ea6a51fc984bc49e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a1835862c7afe0c2ea6a51fc984bc49e7">tier_four</a> (int framecnt, Mat in_frame, Mat old_frame)</td></tr>
<tr class="separator:a1835862c7afe0c2ea6a51fc984bc49e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee2ca25c5f0d375d48ec5b88dd6c1b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#aaee2ca25c5f0d375d48ec5b88dd6c1b3">parse_checklist</a> (std::string name, std::string value)</td></tr>
<tr class="separator:aaee2ca25c5f0d375d48ec5b88dd6c1b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa2b943656a2bdc7bbb9a4f9e1adcd1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a6aa2b943656a2bdc7bbb9a4f9e1adcd1">space_space</a> (std::string instring)</td></tr>
<tr class="separator:a6aa2b943656a2bdc7bbb9a4f9e1adcd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__extraction__temp_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td></td></tr>
    <tr><td class="paramname">argv</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="aaee2ca25c5f0d375d48ec5b88dd6c1b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee2ca25c5f0d375d48ec5b88dd6c1b3">&#9670;&nbsp;</a></span>parse_checklist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_checklist </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function handles the strings and values parsed from the settings.cfg file and assigns them to the global values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>String obtained while parsing the settings.cfg file </td></tr>
    <tr><td class="paramname">value</td><td>The value associated with name from settings.cfg file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="a89a8322bea357674e81ba9cbdefe0378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a8322bea357674e81ba9cbdefe0378">&#9670;&nbsp;</a></span>signal_callback_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_callback_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a helper function to handle terminal signals. This shuts down the various forks properly when an interrupt is caught.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signum</td><td>signal number passed to this function. Only handles 2. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6aa2b943656a2bdc7bbb9a4f9e1adcd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa2b943656a2bdc7bbb9a4f9e1adcd1">&#9670;&nbsp;</a></span>space_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string space_space </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>instring</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This helper function handles spaces in user paths.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instring</td><td>the input string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>outstring the corrected string </dd></dl>

</div>
</div>
<a id="a1835862c7afe0c2ea6a51fc984bc49e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1835862c7afe0c2ea6a51fc984bc49e7">&#9670;&nbsp;</a></span>tier_four()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tier_four </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framecnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>in_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>old_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the fourth pass to detect valid contours in a frame. The parameters of the function are set in the T4 section of settings.cfg. This is the UnCanny method for detecting motion. The steps are essentially the backward operation of the steps taken during Canny filtering. The current frame is subtracted from the previous frame, and this output is threholded. The thresholded image is then passed through directional Sobel filters to separate the x and y components. These components are squared, added to each other, and square rooted. The output is rescaled to match the input value ranges, and a Gaussian blur is applied. Since this output is messy, the blurry image is processed using Zhang-Suen thinning to get distinct edges. Any details lost between the blurring and thinning steps reduce noise. Contours are then detected in the normal way.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">framecnt</td><td>int of nth frame retrieved by program </td></tr>
    <tr><td class="paramname">in_frame</td><td>OpenCV matrix image, 16-bit single depth format </td></tr>
    <tr><td class="paramname">old_frame</td><td>OpenCV matrix image, 16-bit single depth format, stored from previous cycle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="a4f9b7b156d48ad3f147ff2b4edc01509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f9b7b156d48ad3f147ff2b4edc01509">&#9670;&nbsp;</a></span>tier_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tier_one </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framecnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>in_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the first pass to detect valid contours in a frame. The parameters of the function are set in the T1 section of settings.cfg. Contours are detected based on a relatively strict OpenCV adaptiveThreshold function. These should be gauranteed "hits".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">framecnt</td><td>int of nth frame retrieved by program </td></tr>
    <tr><td class="paramname">in_frame</td><td>OpenCV matrix image, 16-bit single depth format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="a7e416aa918214bbc26d5a68f7da0138d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e416aa918214bbc26d5a68f7da0138d">&#9670;&nbsp;</a></span>tier_three()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tier_three </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framecnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>in_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>old_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the third pass to detect valid contours in a frame. The parameters of the function are set in the T3 section of settings.cfg. The detector performs an isotropic Laplacian on the current frame and the previous frame (settings.cfg can be modified for anisotropic Laplacian). The outputs are blurred and recombined. Values passing a cutoff threshold are retained and the contours are detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">framecnt</td><td>int of nth frame retrieved by program </td></tr>
    <tr><td class="paramname">in_frame</td><td>OpenCV matrix image, 16-bit single depth format </td></tr>
    <tr><td class="paramname">old_frame</td><td>OpenCV matrix image, 16-bit single depth format, stored from previous cycle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
<a id="ad19a4b05d920662cf30fbbdfc56264c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19a4b05d920662cf30fbbdfc56264c3">&#9670;&nbsp;</a></span>tier_two()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tier_two </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framecnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>in_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the second pass to detect valid contours in a frame. The parameters of the function are set in the T2 section of settings.cfg. Contours are detected based on a relatively loose OpenCV adaptiveThreshold function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">framecnt</td><td>int of nth frame retrieved by program </td></tr>
    <tr><td class="paramname">in_frame</td><td>OpenCV matrix image, 16-bit single depth format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
