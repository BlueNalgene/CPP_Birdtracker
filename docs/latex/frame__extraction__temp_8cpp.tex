\hypertarget{frame__extraction__temp_8cpp}{}\section{frame\+\_\+extraction\+\_\+temp.\+cpp File Reference}
\label{frame__extraction__temp_8cpp}\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
{\ttfamily \#include \char`\"{}frame\+\_\+extraction.\+hpp\char`\"{}}\newline
Include dependency graph for frame\+\_\+extraction\+\_\+temp.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{frame__extraction__temp_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{frame__extraction__temp_8cpp_a89a8322bea357674e81ba9cbdefe0378}{signal\+\_\+callback\+\_\+handler} (int signum)
\item 
int \hyperlink{frame__extraction__temp_8cpp_a4f9b7b156d48ad3f147ff2b4edc01509}{tier\+\_\+one} (int framecnt, Mat in\+\_\+frame)
\item 
int \hyperlink{frame__extraction__temp_8cpp_ad19a4b05d920662cf30fbbdfc56264c3}{tier\+\_\+two} (int framecnt, Mat in\+\_\+frame)
\item 
int \hyperlink{frame__extraction__temp_8cpp_a7e416aa918214bbc26d5a68f7da0138d}{tier\+\_\+three} (int framecnt, Mat in\+\_\+frame, Mat old\+\_\+frame)
\item 
int \hyperlink{frame__extraction__temp_8cpp_a1835862c7afe0c2ea6a51fc984bc49e7}{tier\+\_\+four} (int framecnt, Mat in\+\_\+frame, Mat old\+\_\+frame)
\item 
int \hyperlink{frame__extraction__temp_8cpp_aaee2ca25c5f0d375d48ec5b88dd6c1b3}{parse\+\_\+checklist} (std\+::string name, std\+::string value)
\item 
std\+::string \hyperlink{frame__extraction__temp_8cpp_a6aa2b943656a2bdc7bbb9a4f9e1adcd1}{space\+\_\+space} (std\+::string instring)
\item 
int \hyperlink{frame__extraction__temp_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a0ddf1224851353fc92bfbff6f499fa97}\label{frame__extraction__temp_8cpp_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!main@{main}}
\index{main@{main}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}

Main loop


\begin{DoxyParams}{Parameters}
{\em argc} & \\
\hline
{\em argv} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_aaee2ca25c5f0d375d48ec5b88dd6c1b3}\label{frame__extraction__temp_8cpp_aaee2ca25c5f0d375d48ec5b88dd6c1b3}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!parse\+\_\+checklist@{parse\+\_\+checklist}}
\index{parse\+\_\+checklist@{parse\+\_\+checklist}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{parse\+\_\+checklist()}{parse\_checklist()}}
{\footnotesize\ttfamily int parse\+\_\+checklist (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{std\+::string}]{value }\end{DoxyParamCaption})}

This function handles the strings and values parsed from the settings.\+cfg file and assigns them to the global values.


\begin{DoxyParams}{Parameters}
{\em name} & String obtained while parsing the settings.\+cfg file \\
\hline
{\em value} & The value associated with name from settings.\+cfg file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a89a8322bea357674e81ba9cbdefe0378}\label{frame__extraction__temp_8cpp_a89a8322bea357674e81ba9cbdefe0378}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!signal\+\_\+callback\+\_\+handler@{signal\+\_\+callback\+\_\+handler}}
\index{signal\+\_\+callback\+\_\+handler@{signal\+\_\+callback\+\_\+handler}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{signal\+\_\+callback\+\_\+handler()}{signal\_callback\_handler()}}
{\footnotesize\ttfamily void signal\+\_\+callback\+\_\+handler (\begin{DoxyParamCaption}\item[{int}]{signum }\end{DoxyParamCaption})}

This is a helper function to handle terminal signals. This shuts down the various forks properly when an interrupt is caught.


\begin{DoxyParams}{Parameters}
{\em signum} & signal number passed to this function. Only handles 2. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a6aa2b943656a2bdc7bbb9a4f9e1adcd1}\label{frame__extraction__temp_8cpp_a6aa2b943656a2bdc7bbb9a4f9e1adcd1}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!space\+\_\+space@{space\+\_\+space}}
\index{space\+\_\+space@{space\+\_\+space}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{space\+\_\+space()}{space\_space()}}
{\footnotesize\ttfamily std\+::string space\+\_\+space (\begin{DoxyParamCaption}\item[{std\+::string}]{instring }\end{DoxyParamCaption})}

This helper function handles spaces in user paths.


\begin{DoxyParams}{Parameters}
{\em instring} & the input string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
outstring the corrected string 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a1835862c7afe0c2ea6a51fc984bc49e7}\label{frame__extraction__temp_8cpp_a1835862c7afe0c2ea6a51fc984bc49e7}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!tier\+\_\+four@{tier\+\_\+four}}
\index{tier\+\_\+four@{tier\+\_\+four}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{tier\+\_\+four()}{tier\_four()}}
{\footnotesize\ttfamily int tier\+\_\+four (\begin{DoxyParamCaption}\item[{int}]{framecnt,  }\item[{Mat}]{in\+\_\+frame,  }\item[{Mat}]{old\+\_\+frame }\end{DoxyParamCaption})}

This is the fourth pass to detect valid contours in a frame. The parameters of the function are set in the T4 section of settings.\+cfg. This is the Un\+Canny method for detecting motion. The steps are essentially the backward operation of the steps taken during Canny filtering. The current frame is subtracted from the previous frame, and this output is threholded. The thresholded image is then passed through directional Sobel filters to separate the x and y components. These components are squared, added to each other, and square rooted. The output is rescaled to match the input value ranges, and a Gaussian blur is applied. Since this output is messy, the blurry image is processed using Zhang-\/\+Suen thinning to get distinct edges. Any details lost between the blurring and thinning steps reduce noise. Contours are then detected in the normal way.


\begin{DoxyParams}{Parameters}
{\em framecnt} & int of nth frame retrieved by program \\
\hline
{\em in\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format \\
\hline
{\em old\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format, stored from previous cycle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a4f9b7b156d48ad3f147ff2b4edc01509}\label{frame__extraction__temp_8cpp_a4f9b7b156d48ad3f147ff2b4edc01509}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!tier\+\_\+one@{tier\+\_\+one}}
\index{tier\+\_\+one@{tier\+\_\+one}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{tier\+\_\+one()}{tier\_one()}}
{\footnotesize\ttfamily int tier\+\_\+one (\begin{DoxyParamCaption}\item[{int}]{framecnt,  }\item[{Mat}]{in\+\_\+frame }\end{DoxyParamCaption})}

This is the first pass to detect valid contours in a frame. The parameters of the function are set in the T1 section of settings.\+cfg. Contours are detected based on a relatively strict Open\+CV adaptive\+Threshold function. These should be gauranteed \char`\"{}hits\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em framecnt} & int of nth frame retrieved by program \\
\hline
{\em in\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_a7e416aa918214bbc26d5a68f7da0138d}\label{frame__extraction__temp_8cpp_a7e416aa918214bbc26d5a68f7da0138d}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!tier\+\_\+three@{tier\+\_\+three}}
\index{tier\+\_\+three@{tier\+\_\+three}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{tier\+\_\+three()}{tier\_three()}}
{\footnotesize\ttfamily int tier\+\_\+three (\begin{DoxyParamCaption}\item[{int}]{framecnt,  }\item[{Mat}]{in\+\_\+frame,  }\item[{Mat}]{old\+\_\+frame }\end{DoxyParamCaption})}

This is the third pass to detect valid contours in a frame. The parameters of the function are set in the T3 section of settings.\+cfg. The detector performs an isotropic Laplacian on the current frame and the previous frame (settings.\+cfg can be modified for anisotropic Laplacian). The outputs are blurred and recombined. Values passing a cutoff threshold are retained and the contours are detected.


\begin{DoxyParams}{Parameters}
{\em framecnt} & int of nth frame retrieved by program \\
\hline
{\em in\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format \\
\hline
{\em old\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format, stored from previous cycle \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
\mbox{\Hypertarget{frame__extraction__temp_8cpp_ad19a4b05d920662cf30fbbdfc56264c3}\label{frame__extraction__temp_8cpp_ad19a4b05d920662cf30fbbdfc56264c3}} 
\index{frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}!tier\+\_\+two@{tier\+\_\+two}}
\index{tier\+\_\+two@{tier\+\_\+two}!frame\+\_\+extraction\+\_\+temp.\+cpp@{frame\+\_\+extraction\+\_\+temp.\+cpp}}
\subsubsection{\texorpdfstring{tier\+\_\+two()}{tier\_two()}}
{\footnotesize\ttfamily int tier\+\_\+two (\begin{DoxyParamCaption}\item[{int}]{framecnt,  }\item[{Mat}]{in\+\_\+frame }\end{DoxyParamCaption})}

This is the second pass to detect valid contours in a frame. The parameters of the function are set in the T2 section of settings.\+cfg. Contours are detected based on a relatively loose Open\+CV adaptive\+Threshold function.


\begin{DoxyParams}{Parameters}
{\em framecnt} & int of nth frame retrieved by program \\
\hline
{\em in\+\_\+frame} & Open\+CV matrix image, 16-\/bit single depth format \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status 
\end{DoxyReturn}
